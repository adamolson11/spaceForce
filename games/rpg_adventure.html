<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space RPG Adventure - Explore the Solar System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            padding: 20px;
            min-height: 100vh;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
        }
        
        .student-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .student-name {
            font-size: 1.3em;
            font-weight: bold;
        }
        
        .coins {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 215, 0, 0.2);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 1.2em;
            font-weight: bold;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .game-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .game-section h2 {
            margin-bottom: 15px;
            color: #00d4ff;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }
        
        #gameCanvas {
            border: 3px solid #00d4ff;
            border-radius: 5px;
            display: block;
            margin: 0 auto 15px;
            background: #000000;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            cursor: crosshair;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #00ff00, #00cc00);
            color: #000;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 0, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .info-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .info-section h2 {
            margin-bottom: 15px;
            color: #2196F3;
        }
        
        .info-box {
            background: rgba(33, 150, 243, 0.2);
            border-left: 4px solid #2196F3;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        
        .info-box h3 {
            margin-bottom: 8px;
            color: #2196F3;
        }
        
        .info-box p {
            font-size: 0.9em;
            line-height: 1.5;
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .stat-box {
            background: rgba(0, 255, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #ccc;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #00d4ff;
        }
        
        .planet-info {
            background: rgba(0, 212, 255, 0.2);
            border-left: 4px solid #00d4ff;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        
        .planet-info h3 {
            margin-bottom: 8px;
            color: #00d4ff;
        }
        
        .legend {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.85em;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid #fff;
        }
        
        /* Responsive design */
        @media (max-width: 992px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="student-info">
            <span>üë§</span>
            <span class="student-name" id="studentNameDisplay">Student</span>
        </div>
        <div class="coins">
            <span>ü™ô</span>
            <span id="coinDisplay">0</span>
            <span>coins</span>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Game Section -->
        <div class="game-section">
            <h2>üöÄ Space RPG Adventure</h2>
            <canvas id="gameCanvas" width="800" height="600"></canvas>
            <div class="controls">
                <button id="startBtn" class="btn-primary">Start Adventure</button>
                <button id="pauseBtn" class="btn-secondary">Pause</button>
                <button id="restartBtn" class="btn-secondary">Restart</button>
            </div>
            <div class="info-box">
                <h3>üéÆ How to Play</h3>
                <p>Use arrow keys (‚Üë ‚Üì ‚Üê ‚Üí) or WASD to move your spaceship freely through the solar system. Visit different planets! Click on planets to learn about them!</p>
            </div>
        </div>
        
        <!-- Info Section -->
        <div class="info-section">
            <h2>üìä Explorer Stats</h2>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label">Distance Traveled</div>
                    <div class="stat-value" id="stepsDisplay">0</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">Current Planet</div>
                    <div class="stat-value" id="currentPlanetDisplay">None</div>
                </div>
            </div>
            
            <div class="planet-info" id="planetInfo">
                <h3>ü™ê Planet Info</h3>
                <p id="planetDescription">Move to a planet to see information!</p>
            </div>
            
            <div class="info-box">
                <h3>üåç Solar System Planets</h3>
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #8c7853;"></div>
                        <span>Mercury</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ffc649;"></div>
                        <span>Venus</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4a90e2;"></div>
                        <span>Earth</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #e27b58;"></div>
                        <span>Mars</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #c88b3a;"></div>
                        <span>Jupiter</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #fad5a5;"></div>
                        <span>Saturn</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4fd0e0;"></div>
                        <span>Uranus</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4166f5;"></div>
                        <span>Neptune</span>
                    </div>
                </div>
            </div>
            
            <div class="info-box">
                <h3>üöÄ Coming Soon</h3>
                <p>
                    ‚Ä¢ Space monsters to battle<br>
                    ‚Ä¢ Quiz questions to defeat enemies<br>
                    ‚Ä¢ Planet missions and quests<br>
                    ‚Ä¢ Special abilities and spells<br>
                    ‚Ä¢ Story progression<br>
                </p>
            </div>
            
            <div class="info-box">
                <h3>üí° Learning Goals</h3>
                <p>Learn about the solar system while mastering game programming concepts like movement, collision detection, and interactive graphics!</p>
            </div>
        </div>
    </div>
    
    <!-- JavaScript Game Logic -->
    <script>
        // Load student name and coins from localStorage
        window.addEventListener('load', function() {
            const studentName = localStorage.getItem('student_name') || 'Guest';
            document.getElementById('studentNameDisplay').textContent = studentName;
            
            const coins = parseInt(localStorage.getItem('coins')) || 0;
            document.getElementById('coinDisplay').textContent = coins;
        });

        // Game constants
        const CANVAS_WIDTH = 800;
        const CANVAS_HEIGHT = 600;
        
        // Planet data with real solar system information
        const PLANETS = [
            {
                name: 'Sun',
                x: 400,
                y: 300,
                radius: 40,
                color: '#FDB813',
                glow: '#FF6B00',
                info: 'The Sun: The star at the center of our solar system. Temperature: 5,500¬∞C surface.',
                isSun: true
            },
            {
                name: 'Mercury',
                x: 250,
                y: 150,
                radius: 8,
                color: '#8c7853',
                glow: '#b39b7a',
                info: 'Mercury: Closest planet to the Sun. Smallest planet in our solar system. No atmosphere.',
                isSun: false
            },
            {
                name: 'Venus',
                x: 150,
                y: 350,
                radius: 14,
                color: '#ffc649',
                glow: '#ffd87a',
                info: 'Venus: Hottest planet in our solar system. Thick, toxic atmosphere. Similar size to Earth.',
                isSun: false
            },
            {
                name: 'Earth',
                x: 550,
                y: 150,
                radius: 15,
                color: '#4a90e2',
                glow: '#6fa8e8',
                info: 'Earth: Our home planet! Only known planet with life. 71% covered by water.',
                isSun: false
            },
            {
                name: 'Mars',
                x: 700,
                y: 350,
                radius: 11,
                color: '#e27b58',
                glow: '#e89c7f',
                info: 'Mars: The Red Planet. Has the largest volcano in the solar system. Cold and dry.',
                isSun: false
            },
            {
                name: 'Jupiter',
                x: 200,
                y: 500,
                radius: 28,
                color: '#c88b3a',
                glow: '#d9a562',
                info: 'Jupiter: Largest planet in our solar system. Giant gas planet. Has the Great Red Spot storm.',
                isSun: false
            },
            {
                name: 'Saturn',
                x: 650,
                y: 500,
                radius: 24,
                color: '#fad5a5',
                glow: '#fce3be',
                info: 'Saturn: Famous for its beautiful rings. Second largest planet. Made mostly of gas.',
                isSun: false
            },
            {
                name: 'Uranus',
                x: 100,
                y: 100,
                radius: 18,
                color: '#4fd0e0',
                glow: '#76dae6',
                info: 'Uranus: Tilted on its side. Ice giant with a blue-green color. Very cold!',
                isSun: false
            },
            {
                name: 'Neptune',
                x: 750,
                y: 80,
                radius: 17,
                color: '#4166f5',
                glow: '#6985f7',
                info: 'Neptune: Farthest planet from the Sun. Deep blue color. Strongest winds in solar system.',
                isSun: false
            }
        ];
        
        // Game state
        class SpaceRPG {
            constructor() {
                this.canvas = document.getElementById('gameCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.running = false;
                this.reset();
                this.keysPressed = new Set();
                this.lastUpdate = 0;
                this.moveCooldown = 50; // ms between moves
                
                // Set up event listeners
                this.setupControls();
                
                // Start animation loop
                this.animate();
            }
            
            reset() {
                // Player starts near Earth
                this.playerX = 520;
                this.playerY = 120;
                this.playerRadius = 8;
                this.distance = 0;
                this.currentPlanet = null;
                this.speed = 2;
                
                // Create star field
                this.stars = [];
                for (let i = 0; i < 200; i++) {
                    this.stars.push({
                        x: Math.random() * CANVAS_WIDTH,
                        y: Math.random() * CANVAS_HEIGHT,
                        radius: Math.random() * 1.5,
                        brightness: Math.random()
                    });
                }
            }
            
            setupControls() {
                // Keyboard
                document.addEventListener('keydown', (e) => {
                    this.keysPressed.add(e.key.toLowerCase());
                    if (['arrowup', 'arrowdown', 'arrowleft', 'arrowright'].includes(e.key.toLowerCase())) {
                        e.preventDefault();
                    }
                });
                
                document.addEventListener('keyup', (e) => {
                    this.keysPressed.delete(e.key.toLowerCase());
                });
                
                // Buttons
                document.getElementById('startBtn').addEventListener('click', () => this.start());
                document.getElementById('pauseBtn').addEventListener('click', () => this.pause());
                document.getElementById('restartBtn').addEventListener('click', () => this.restart());
                
                // Canvas click for planet info
                this.canvas.addEventListener('click', (e) => {
                    const rect = this.canvas.getBoundingClientRect();
                    const clickX = e.clientX - rect.left;
                    const clickY = e.clientY - rect.top;
                    
                    PLANETS.forEach(planet => {
                        const dist = Math.sqrt((clickX - planet.x) ** 2 + (clickY - planet.y) ** 2);
                        if (dist < planet.radius + 5) {
                            this.showPlanetInfo(planet);
                        }
                    });
                });
            }
            
            drawStars() {
                this.stars.forEach(star => {
                    this.ctx.fillStyle = `rgba(255, 255, 255, ${star.brightness})`;
                    this.ctx.beginPath();
                    this.ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                    this.ctx.fill();
                });
            }
            
            drawPlanets() {
                PLANETS.forEach(planet => {
                    // Draw glow
                    const gradient = this.ctx.createRadialGradient(
                        planet.x, planet.y, planet.radius * 0.5,
                        planet.x, planet.y, planet.radius * 2
                    );
                    gradient.addColorStop(0, planet.glow + '88');
                    gradient.addColorStop(1, planet.glow + '00');
                    this.ctx.fillStyle = gradient;
                    this.ctx.beginPath();
                    this.ctx.arc(planet.x, planet.y, planet.radius * 2, 0, Math.PI * 2);
                    this.ctx.fill();
                    
                    // Draw planet
                    this.ctx.fillStyle = planet.color;
                    this.ctx.beginPath();
                    this.ctx.arc(planet.x, planet.y, planet.radius, 0, Math.PI * 2);
                    this.ctx.fill();
                    
                    // Draw planet border
                    this.ctx.strokeStyle = planet.glow;
                    this.ctx.lineWidth = 2;
                    this.ctx.stroke();
                    
                    // Draw rings for Saturn
                    if (planet.name === 'Saturn') {
                        this.ctx.strokeStyle = planet.glow + '99';
                        this.ctx.lineWidth = 3;
                        this.ctx.beginPath();
                        this.ctx.ellipse(planet.x, planet.y, planet.radius * 1.6, planet.radius * 0.4, 0, 0, Math.PI * 2);
                        this.ctx.stroke();
                    }
                    
                    // Draw planet name
                    this.ctx.fillStyle = '#ffffff';
                    this.ctx.font = '12px Arial';
                    this.ctx.textAlign = 'center';
                    this.ctx.fillText(planet.name, planet.x, planet.y + planet.radius + 15);
                });
            }
            
            drawPlayer() {
                // Draw spaceship glow
                const gradient = this.ctx.createRadialGradient(
                    this.playerX, this.playerY, 0,
                    this.playerX, this.playerY, this.playerRadius * 2
                );
                gradient.addColorStop(0, '#00ff00aa');
                gradient.addColorStop(1, '#00ff0000');
                this.ctx.fillStyle = gradient;
                this.ctx.beginPath();
                this.ctx.arc(this.playerX, this.playerY, this.playerRadius * 2, 0, Math.PI * 2);
                this.ctx.fill();
                
                // Draw spaceship
                this.ctx.fillStyle = '#00ff00';
                this.ctx.beginPath();
                this.ctx.arc(this.playerX, this.playerY, this.playerRadius, 0, Math.PI * 2);
                this.ctx.fill();
                
                // Draw spaceship border
                this.ctx.strokeStyle = '#00cc00';
                this.ctx.lineWidth = 2;
                this.ctx.stroke();
                
                // Draw direction indicator
                this.ctx.fillStyle = '#ffffff';
                this.ctx.beginPath();
                this.ctx.arc(this.playerX, this.playerY - 3, 2, 0, Math.PI * 2);
                this.ctx.fill();
            }
            
            draw() {
                // Clear canvas
                this.ctx.fillStyle = '#000000';
                this.ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);
                
                // Draw stars
                this.drawStars();
                
                // Draw planets
                this.drawPlanets();
                
                // Draw player
                this.drawPlayer();
                
                // Update UI
                document.getElementById('stepsDisplay').textContent = Math.floor(this.distance);
                
                // Check if near a planet
                this.checkPlanetProximity();
            }
            
            checkPlanetProximity() {
                let nearestPlanet = null;
                let minDistance = Infinity;
                
                PLANETS.forEach(planet => {
                    const dist = Math.sqrt(
                        (this.playerX - planet.x) ** 2 + 
                        (this.playerY - planet.y) ** 2
                    );
                    
                    if (dist < planet.radius + this.playerRadius + 10 && dist < minDistance) {
                        minDistance = dist;
                        nearestPlanet = planet;
                    }
                });
                
                if (nearestPlanet && nearestPlanet !== this.currentPlanet) {
                    this.currentPlanet = nearestPlanet;
                    this.showPlanetInfo(nearestPlanet);
                } else if (!nearestPlanet && this.currentPlanet) {
                    this.currentPlanet = null;
                    document.getElementById('currentPlanetDisplay').textContent = 'In Space';
                    document.getElementById('planetDescription').textContent = 'Exploring the void of space...';
                }
            }
            
            showPlanetInfo(planet) {
                document.getElementById('currentPlanetDisplay').textContent = planet.name;
                document.getElementById('planetDescription').textContent = planet.info;
            }
            
            update(timestamp) {
                if (!this.running) return;
                
                if (timestamp - this.lastUpdate < this.moveCooldown) return;
                
                let dx = 0, dy = 0;
                
                // Check keys
                if (this.keysPressed.has('arrowup') || this.keysPressed.has('w')) dy = -this.speed;
                if (this.keysPressed.has('arrowdown') || this.keysPressed.has('s')) dy = this.speed;
                if (this.keysPressed.has('arrowleft') || this.keysPressed.has('a')) dx = -this.speed;
                if (this.keysPressed.has('arrowright') || this.keysPressed.has('d')) dx = this.speed;
                
                // Move player
                if (dx !== 0 || dy !== 0) {
                    const newX = this.playerX + dx;
                    const newY = this.playerY + dy;
                    
                    // Keep player in bounds
                    if (newX >= this.playerRadius && newX <= CANVAS_WIDTH - this.playerRadius) {
                        this.playerX = newX;
                    }
                    if (newY >= this.playerRadius && newY <= CANVAS_HEIGHT - this.playerRadius) {
                        this.playerY = newY;
                    }
                    
                    this.distance += Math.sqrt(dx * dx + dy * dy);
                    this.lastUpdate = timestamp;
                }
            }
            
            animate(timestamp = 0) {
                this.update(timestamp);
                this.draw();
                requestAnimationFrame((t) => this.animate(t));
            }
            
            start() {
                this.running = true;
                document.getElementById('startBtn').textContent = 'Playing...';
            }
            
            pause() {
                this.running = false;
                document.getElementById('startBtn').textContent = 'Resume';
            }
            
            restart() {
                this.pause();
                this.reset();
                this.draw();
                document.getElementById('startBtn').textContent = 'Start Adventure';
            }
        }
        
        // Initialize game when page loads
        window.addEventListener('load', () => {
            const game = new SpaceRPG();
        });
    </script>
</body>
</html>
